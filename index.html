<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRAN ZERO HOUR // LIVE MONITOR</title>
    <style>
        /* --- CORE VARIABLES --- */
        :root {
            --bg: #FFFFFF;
            --ink: #000000;
            --alert: #FF0000;
            --warn: #FFA500;
            --border-thick: 3px solid var(--ink);
            --border-thin: 1px solid var(--ink);
            --font-mono: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }

        /* --- DARK MODE --- */
        [data-theme="dark"] {
            --bg: #050505;
            --ink: #E0E0E0;
            --alert: #FF3333;
            --warn: #DDAA00;
        }

        /* --- RESET & BASE --- */
        * { box-sizing: border-box; }
        body {
            background-color: var(--bg);
            color: var(--ink);
            font-family: var(--font-mono);
            margin: 0;
            padding: 0;
            line-height: 1.4;
            transition: background 0.3s, color 0.3s;
        }

        /* --- LAYOUT --- */
        .wrapper {
            max-width: 900px;
            margin: 0 auto;
            border-left: var(--border-thin);
            border-right: var(--border-thin);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            border-bottom: var(--border-thick);
            padding: 24px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        h1 {
            font-size: 2rem;
            font-weight: 900;
            letter-spacing: -1px;
            margin: 0;
            text-transform: uppercase;
            line-height: 1;
        }

        .subtitle { font-size: 0.8rem; opacity: 0.7; margin-top: 5px; display: block; }
        
        .status-block { text-align: right; }
        #clock { font-size: 1.5rem; font-weight: 700; letter-spacing: -1px; }
        .live-dot { width: 8px; height: 8px; background: var(--alert); border-radius: 50%; display: inline-block; animation: pulse 1s infinite alternate; }
        @keyframes pulse { from { opacity: 1; } to { opacity: 0.4; } }

        /* --- FEED --- */
        .feed-container { padding: 40px 24px; flex-grow: 1; position: relative; }
        .timeline-line { position: absolute; left: 29px; top: 0; bottom: 0; width: 1px; background: var(--ink); opacity: 0.2; }
        
        .event { position: relative; margin-bottom: 30px; padding-left: 30px; display: flex; flex-direction: column; }
        .event::before { content: ''; position: absolute; left: 0; top: 8px; width: 10px; height: 2px; background: var(--ink); }
        .event:hover::before { width: 20px; background: var(--alert); transition: width 0.2s; }
        
        .meta { font-size: 0.75rem; font-weight: 700; margin-bottom: 4px; display: flex; gap: 8px; align-items: center; }
        .tag { padding: 1px 4px; border: 1px solid var(--ink); font-size: 0.65rem; text-transform: uppercase; }
        .headline { font-size: 1rem; text-transform: uppercase; }

        /* Threat Colors */
        .event.flash .headline { color: var(--alert); font-weight: bold; }
        .event.flash .tag { background: var(--alert); color: var(--bg); border-color: var(--alert); }
        .event.elevated .headline { color: var(--warn); }
        .event.routine .headline { opacity: 0.8; }

        footer { border-top: var(--border-thick); padding: 15px 24px; font-size: 0.7rem; opacity: 0.6; display: flex; justify-content: space-between; }
        
        /* Theme Toggle */
        .theme-btn { background: none; border: 1px solid var(--ink); color: var(--ink); cursor: pointer; font-family: inherit; font-size: 0.7rem; padding: 4px 8px; margin-top: 8px; text-transform: uppercase; }
        .theme-btn:hover { background: var(--ink); color: var(--bg); }
    </style>
</head>
<body>

<div class="wrapper">
    <header>
        <div>
            <h1>Iran Zero Hour</h1>
            <span class="subtitle">Static Intelligence Dashboard</span>
        </div>
        <div class="status-block">
            <div id="clock">00:00 UTC</div>
            <div style="font-size: 0.75rem; margin-top: 5px; font-weight: bold;">
                <span class="live-dot"></span> LIVE MONITOR
            </div>
            <button class="theme-btn" onclick="toggleTheme()">Invert Colors</button>
        </div>
    </header>

    <div class="feed-container">
        <div class="timeline-line"></div>
        <div id="feed"></div>
    </div>

    <footer>
        <span>SECURE CONNECTION</span>
        <span>NO TRACKING</span>
    </footer>
</div>

<script>
const timelineData = [
    { time: "INIT", text: "SYSTEM STANDBY... WAITING FOR UPLINK." }
];
</script>
<script>
    // 1. Theme Logic
    function toggleTheme() {
        const current = document.body.getAttribute('data-theme');
        const next = current === 'dark' ? 'light' : 'dark';
        document.body.setAttribute('data-theme', next);
    }

    // 2. Clock Logic
    function updateClock() {
        const now = new Date();
        document.getElementById('clock').innerText = now.toISOString().slice(11, 16) + ' UTC';
    }
    setInterval(updateClock, 1000);
    updateClock();

    // 3. Render Logic (The part that was missing!)
    function renderFeed() {
        const container = document.getElementById('feed');
        if (!timelineData || timelineData.length === 0) return;

        // Clear "Init" message if real data exists
        if (timelineData[0].time !== "INIT") container.innerHTML = '';

        timelineData.forEach(item => {
            // Detect Type
            let type = "routine";
            let text = item.text || "";
            if (text.includes("[FLASH]")) { type = "flash"; text = text.replace("[FLASH]", "").trim(); }
            else if (text.includes("[ROUTINE]")) { type = "routine"; text = text.replace("[ROUTINE]", "").trim(); }

            // Create HTML
            const div = document.createElement('div');
            div.className = `event ${type}`;
            div.innerHTML = `
                <div class="meta">
                    <span class="time">${item.time}</span>
                    <span class="tag">${type}</span>
                </div>
                <div class="headline">${text}</div>
            `;
            container.appendChild(div);
        });
    }

    // Run Render
    renderFeed();
</script>

</body>
</html>
